# nvidia-xconfig: X configuration file generated by nvidia-xconfig
# nvidia-xconfig:  version 550.54.15

Section "ServerLayout"
    Identifier     "RealLayout"
    Screen      0  "RealScreen"
    InputDevice    "Keyboard0" "CoreKeyboard"
    InputDevice    "Mouse0" "CorePointer"
EndSection

Section "ServerLayout"
    Identifier     "VirtualLayouts"
    Screen         0  "VirtualScreen" 0 0
    InputDevice    "Keyboard0" "CoreKeyboard"
    InputDevice    "Mouse0" "CorePointer"
EndSection

Section "Files"
    # Important!!!
    ModulePath     "/usr/lib/x86_64-linux-gnu/nvidia/xorg"
    ModulePath     "/usr/lib/xorg/modules"
EndSection

Section "ServerFlags"
    Option         "AutoAddGPU" "off"
EndSection

Section "InputDevice"
    # generated from default
    Identifier     "Mouse0"
    Driver         "mouse"
    Option         "Protocol" "auto"
    Option         "Device" "/dev/psaux"
    Option         "Emulate3Buttons" "no"
    Option         "ZAxisMapping" "4 5"
EndSection

Section "InputDevice"
    # generated from default
    Identifier     "Keyboard0"
    Driver         "kbd"
EndSection

Section "Monitor"
    Identifier     "RealMonitor"
    VendorName     "Unknown"
    ModelName      "Unknown"
    Option         "DPMS"
#    Option         "Enable" "True"
EndSection

Section "Monitor"
    Identifier     "VirtualMonitor"
    VendorName     "Unknown"
    ModelName      "Unknown"
    Option         "DPMS"
    Option         "Enable" "True"
EndSection

Section "Device"
    Identifier     "UnmodifiedDevice"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BusID          "PCI:1:0:0"
EndSection

Section "Device"
    Identifier     "ModifiedDevice"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    # Set to actual decimal BusID (nvidia-smi output is hexadecimal)
    BusID          "PCI:1:0:0"
    # Set to the wanted resolution
    Option         "MetaModes" "1920x1080"
    # Set to the used and add an unused connection
    Option         "ConnectedMonitor" "DP-5"
    # Option         "TwinViewOrientation" "Clone"
    # Disables Mode check to allow arbitrary resolutions
    Option         "ModeValidation" "NoDFPNativeResolutionCheck,NoVirtualSizeCheck,NoMaxPClkCheck,NoHorizSyncCheck,NoVertRefreshCheck,NoWidthAlignmentCheck"
EndSection

# Do not add any other GPUs!!!
#Section "Device"
#	Identifier "SecondRealDevice"
#	Driver "nvidia"
#	VendorName "NVIDIA Corporation"
#	BusID "PCI:33:0:0"
#EndSection

Section "Screen"
    Identifier     "RealScreen"
    Device         "UnmodifiedDevice"
    Monitor        "RealMonitor"
    DefaultDepth    24
    SubSection     "Display"
        Depth       24
    EndSubSection
EndSection

Section "Screen"
    Identifier     "VirtualScreen"
    Device         "ModifiedDevice"
    Monitor        "VirtualMonitor"
    DefaultDepth    24
    # Important!!!
    Option         "TwinView" "True"
    SubSection     "Display"
        # Set to the wanted resolution
        Modes      "1920x1080"
        Depth      24
    EndSubSection
EndSection